// estados
enum EstadoPerfil {
    ACTIVO
    INACTIVO
}

enum EstadoRegistro {
    PENDIENTE
    APROBADO
    RECHAZADO
}

enum Nacionalidad {
    NACIONAL
    EXTRANJERO
}

enum TipoUsuario {
    MEDICO
    ADMINISTRATIVO
}

enum TipoCuenta {
    AHORROS
    CORRIENTE
}

model ASC_Permiso {
    permiso_id Int @id @default(autoincrement())

    pantalla    String  @unique
    lectura     Boolean @default(false)
    escritura   Boolean @default(false)
    eliminacion Boolean @default(false)

    // Relaciones
    Accesos    ASC_Accesos? @relation(fields: [accesos_id], references: [accesos_id])
    accesos_id Int?
}

model ASC_Accesos {
    accesos_id Int @id @default(autoincrement())

    tipoUsuariol TipoUsuario

    permisos ASC_Permiso[]
}

model ASC_Detalle_documento {
    detalle_documento_id Int @id @default(autoincrement())

    tipoUsuariol         TipoUsuario
    documentosRequeridos String
}

model ASC_Documento {
    documento_id Int @id @default(autoincrement())

    url         String @unique
    descripcion String

    // Relaciones
    Medico            ASC_Medico?         @relation(fields: [medico_id], references: [medico_id])
    medico_id         Int?
    Administrativo    ASC_Administrativo? @relation(fields: [administrativo_id], references: [administrativo_id])
    administrativo_id Int?
}

model ASC_CuentaBancaria {
    cuentaBancaria_id Int @id @default(autoincrement())

    banco      String
    numero     String     @unique
    titular    String
    tipoCuenta TipoCuenta

    esPrincipal Boolean

    // Relaciones
    Usuario    ASC_Usuario? @relation(fields: [usuario_id], references: [usuario_id])
    usuario_id Int?
}

model ASC_Preregistro {
    preregistro_id Int    @id @default(autoincrement())
    cedula         String @unique

    // Información usuariol
    nombre          String
    apellidos       String
    fechaNacimiento DateTime
    sexo            String
    estadoCivil     String
    nacionalidad    Nacionalidad
    residencia      String

    // Contacto
    email            String @unique
    telefono         String
    direccionCasa    String
    direccionTrabajo String

    // Estados
    estadoRegistro EstadoRegistro @default(PENDIENTE)
}

model ASC_Usuario {
    usuario_id Int    @id @default(autoincrement())
    cedula     String @unique

    // Información usuariol
    nombre          String
    apellidos       String
    fechaNacimiento DateTime
    sexo            String
    estadoCivil     String
    nacionalidad    Nacionalidad

    // Informacion de cuentas bancarias
    cuentaBancarias ASC_CuentaBancaria[]

    // Contacto
    email            String @unique
    telefono         String
    residencia       String
    direccionCasa    String
    direccionTrabajo String

    // Relaciones
    Medico         ASC_Medico[]
    Administrativo ASC_Administrativo[]
}

// model ASC_Perfil {
//     SC_Perfil_id Int @id @default(autoincrement())

//     documentosRequeridos Documento[]

// Estado y tipo
//     estado      EstadoPerfil @default(ACTIVO)
//     tipoUsuario TipoUsuario

// Relaciones
// usuario   Usuario @relation(fields: [usuario_id], references: [id])
// usuario_id Int
// }

model ASC_Medico {
    medico_id Int @id @default(autoincrement())

    documentosRequeridos ASC_Documento[]

    // Estado y tipo
    estado      EstadoPerfil @default(ACTIVO)
    tipoUsuario TipoUsuario

    // Relaciones
    usuario                ASC_Usuario                  @relation(fields: [usuario_id], references: [usuario_id])
    usuario_id             Int                          @unique
    procedimiento_detalle  ASC_procedimiento_detalle[]
    escala_mensual_detalle ASC_escala_mensual_detalle[]
}

model ASC_Administrativo {
    administrativo_id Int @id @default(autoincrement())

    documentosRequeridos ASC_Documento[]

    // Estado y tipo
    estado      EstadoPerfil @default(ACTIVO)
    tipoUsuario TipoUsuario

    // Relaciones
    usuario    ASC_Usuario @relation(fields: [usuario_id], references: [usuario_id])
    usuario_id Int         @unique
}
