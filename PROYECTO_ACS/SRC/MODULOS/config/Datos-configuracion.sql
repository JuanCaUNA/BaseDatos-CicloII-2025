-- !DATOS TABLA ACS_PARAMETROS-- ** Seccion: Preconfiguraci√≥n de parametros en la tabla ACS_PARAMETROS **
/*
CREATE TABLE ACS_PARAMETROS (
    APA_ID      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    APA_NOMBRE_PARAMETRO   VARCHAR2(100) UNIQUE NOT NULL,
    APA_VALOR_PARAMETRO   VARCHAR2(4000),
    APA_DESCRIPCION       VARCHAR2(200),
    APA_TIPO_PARAMETRO    VARCHAR2(20) DEFAULT 'SISTEMA',  -- Opcional: SISTEMA, EMAIL, SMTP, OTRO
);
*/
-- !DATOS TABLA ACS_PARAMETROS

MERGE INTO ACS_PARAMETROS t
USING (
    SELECT 'CORREO_DBA' APA_NOMBRE_PARAMETRO, 'dba@acs.com' APA_VALOR_PARAMETRO, 'Correo del DBA' APA_DESCRIPCION, 'CORREO' APA_TIPO_PARAMETRO FROM DUAL UNION ALL
    
    SELECT 'SMTP_CORREO', 'juancarlos19defebrerohat@gmail.com', 'Correo para notificaciones automaticas', 'SMTP' FROM DUAL UNION ALL
    SELECT 'SMTP_HOST', 'smtp-relay.brevo.com', 'Servidor para envio de correos', 'SMTP' FROM DUAL UNION ALL
    SELECT 'SMTP_PORT', '587', 'Puerto del servidor SMTP', 'SMTP' FROM DUAL UNION ALL
    SELECT 'SMPT_USUARIO', 'a1e38001@smtp-brevo.com', 'Usuario del servidor', 'SMPT' FROM DUAL UNION ALL
    SELECT 'SMTP_CLAVE', 'bskiTLMr8wV26Rp', 'Clave servidor', 'SMPT' FROM DUAL UNION ALL
    SELECT 'SMP_ACL_FILe', 'brevo_acl.xml', 'archivo acl', 'SMPT' FROM DUAL
) s
ON (t.APA_NOMBRE_PARAMETRO = s.APA_NOMBRE_PARAMETRO)
WHEN MATCHED THEN
    UPDATE SET
        t.APA_VALOR_PARAMETRO = s.APA_VALOR_PARAMETRO,
        t.APA_DESCRIPCION = s.APA_DESCRIPCION,
        t.APA_TIPO_PARAMETRO = s.APA_TIPO_PARAMETRO
WHEN NOT MATCHED THEN
    INSERT (APA_NOMBRE_PARAMETRO, APA_VALOR_PARAMETRO, APA_DESCRIPCION, APA_TIPO_PARAMETRO)
    VALUES (s.APA_NOMBRE_PARAMETRO, s.APA_VALOR_PARAMETRO, s.APA_DESCRIPCION, s.APA_TIPO_PARAMETRO);
COMMIT;
/
