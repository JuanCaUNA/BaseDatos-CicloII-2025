-- ! SE USA EN VARIOS MODULOS GLOBAL

-- * TABLA DE PARÁMETROS GENERALES *
CREATE TABLE ACS_PARAMETROS (
    APA_ID      NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    APA_NOMBRE_PARAMETRO   VARCHAR2(50) UNIQUE NOT NULL,
    APA_VALOR_PARAMETRO   VARCHAR2(255),
    APA_DESCRIPCION       VARCHAR2(100),
    APA_TIPO_PARAMETRO    VARCHAR2(20) DEFAULT 'SISTEMA'  -- Opcional: SISTEMA, EMAIL, SMTP, OTRO
);

-- * FUN PARA OBTENER VALOR DE PARÁMETRO *
CREATE OR REPLACE FUNCTION ACS_FUN_OBTENER_PARAMETRO(P_CLAVE ACS_PARAMETROS.APA_NOMBRE_PARAMETRO%TYPE)
RETURN VARCHAR2 IS
    V_VALOR ACS_PARAMETROS.APA_VALOR_PARAMETRO%TYPE;
BEGIN
    SELECT APA_VALOR_PARAMETRO INTO V_VALOR
    FROM ACS_PARAMETROS
    WHERE APA_CLAVE_PARAMETRO = P_CLAVE;

    RETURN V_VALOR;
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        RETURN NULL;
END;
/